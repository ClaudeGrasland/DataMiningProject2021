<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 1 Préparation des données (CG) | Projet DATA MINING 2021</title>
  <meta name="description" content="Titre du cours" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 1 Préparation des données (CG) | Projet DATA MINING 2021" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Titre du cours" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 1 Préparation des données (CG) | Projet DATA MINING 2021" />
  
  <meta name="twitter:description" content="Titre du cours" />
  

<meta name="author" content="C. Grasland et C. Signoretto" />


<meta name="date" content="2021-04-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="00-presentation.html"/>
<link rel="next" href="12-statistics.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Data Mining 2021  <em>C. Grasland  & C.Signoretto</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html"><i class="fa fa-check"></i>Présentation</a>
<ul>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#à-propos-de-ce-document"><i class="fa fa-check"></i>À propos de ce document</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#prérequis"><i class="fa fa-check"></i>Prérequis</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="11-data.html"><a href="11-data.html"><i class="fa fa-check"></i><b>1</b> Préparation des données (CG)</a>
<ul>
<li class="chapter" data-level="1.1" data-path="11-data.html"><a href="11-data.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="11-data.html"><a href="11-data.html#données-statistiques-sur-les-individus"><i class="fa fa-check"></i><b>1.2</b> Données statistiques sur les individus</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="11-data.html"><a href="11-data.html#etape-1-téléchargement-des-données-et-stockage-temporaire"><i class="fa fa-check"></i><b>1.2.1</b> Etape 1 : téléchargement des données et stockage temporaire</a></li>
<li class="chapter" data-level="1.2.2" data-path="11-data.html"><a href="11-data.html#etape-2-transformation-des-données-au-format-r"><i class="fa fa-check"></i><b>1.2.2</b> Etape 2 : Transformation des données au format R</a></li>
<li class="chapter" data-level="1.2.3" data-path="11-data.html"><a href="11-data.html#etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata"><i class="fa fa-check"></i><b>1.2.3</b> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="11-data.html"><a href="11-data.html#données-statistiques-sur-les-logements-ordinaires"><i class="fa fa-check"></i><b>1.3</b> Données statistiques sur les logements ordinaires</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="11-data.html"><a href="11-data.html#etape-1-récupération-des-fichiers"><i class="fa fa-check"></i><b>1.3.1</b> Etape 1 : récupération des fichiers</a></li>
<li class="chapter" data-level="1.3.2" data-path="11-data.html"><a href="11-data.html#etape-2-transformation-des-données-au-format-r-1"><i class="fa fa-check"></i><b>1.3.2</b> Etape 2 : Transformation des données au format R</a></li>
<li class="chapter" data-level="1.3.3" data-path="11-data.html"><a href="11-data.html#etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata-1"><i class="fa fa-check"></i><b>1.3.3</b> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="11-data.html"><a href="11-data.html#données-géométriques"><i class="fa fa-check"></i><b>1.4</b> Données géométriques</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="11-data.html"><a href="11-data.html#etape-1-récupération-du-fonds-iris-au-format-shapefile"><i class="fa fa-check"></i><b>1.4.1</b> Etape 1 : récupération du fonds IRIS au format shapefile</a></li>
<li class="chapter" data-level="1.4.2" data-path="11-data.html"><a href="11-data.html#etape-2-importation-et-transformation-au-format-sf"><i class="fa fa-check"></i><b>1.4.2</b> Etape 2 : Importation et transformation au format sf</a></li>
<li class="chapter" data-level="1.4.3" data-path="11-data.html"><a href="11-data.html#etape-3-extraction-des-iris-de-la-zone-détude"><i class="fa fa-check"></i><b>1.4.3</b> Etape 3 : Extraction des IRIS de la zone d’étude</a></li>
<li class="chapter" data-level="1.4.4" data-path="11-data.html"><a href="11-data.html#etape-4-création-dun-fonds-de-carte-des-communes"><i class="fa fa-check"></i><b>1.4.4</b> Etape 4 : création d’un fonds de carte des communes</a></li>
<li class="chapter" data-level="1.4.5" data-path="11-data.html"><a href="11-data.html#etape-5-création-dun-fonds-de-carte-par-département"><i class="fa fa-check"></i><b>1.4.5</b> Etape 5 : création d’un fonds de carte par département</a></li>
<li class="chapter" data-level="1.4.6" data-path="11-data.html"><a href="11-data.html#etape-6-superposition-des-trois-fonds-de-carte"><i class="fa fa-check"></i><b>1.4.6</b> Etape 6: Superposition des trois fonds de carte</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="11-data.html"><a href="11-data.html#bilan-et-nettoyage"><i class="fa fa-check"></i><b>1.5</b> Bilan et nettoyage</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="12-statistics.html"><a href="12-statistics.html"><i class="fa fa-check"></i><b>2</b> Analyse statistique (CS)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="12-statistics.html"><a href="12-statistics.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="12-statistics.html"><a href="12-statistics.html#les-données-du-recensement-de-la-population-rp"><i class="fa fa-check"></i><b>2.1.1</b> Les données du Recensement de la Population (RP)</a></li>
<li class="chapter" data-level="2.1.2" data-path="12-statistics.html"><a href="12-statistics.html#quelles-variables-sont-présentes-dans-les-données-quelle-spécificité"><i class="fa fa-check"></i><b>2.1.2</b> Quelles variables sont présentes dans les données ? Quelle spécificité ?</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="12-statistics.html"><a href="12-statistics.html#quelques-statistiques-sur-les-logements-et-ménages"><i class="fa fa-check"></i><b>2.2</b> Quelques statistiques sur les logements et ménages</a></li>
<li class="chapter" data-level="2.3" data-path="12-statistics.html"><a href="12-statistics.html#quelles-caractéristiques-des-individus-résidant-dans-le-val-de-marne-en-2017"><i class="fa fa-check"></i><b>2.3</b> Quelles caractéristiques des individus résidant dans le Val de Marne en 2017 ?</a></li>
<li class="chapter" data-level="2.4" data-path="12-statistics.html"><a href="12-statistics.html#la-création-de-fonctions"><i class="fa fa-check"></i><b>2.4</b> La création de fonctions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-fonction-pour-retourner-un-tableau"><i class="fa fa-check"></i><b>2.4.1</b> Création d’une fonction pour retourner un tableau</a></li>
<li class="chapter" data-level="2.4.2" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-fonction-pour-retourner-un-graphique"><i class="fa fa-check"></i><b>2.4.2</b> Création d’une fonction pour retourner un graphique</a></li>
<li class="chapter" data-level="2.4.3" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-seule-fonction-comprenant-tableau-et-graphe"><i class="fa fa-check"></i><b>2.4.3</b> Création d’une seule fonction comprenant tableau et graphe</a></li>
<li class="chapter" data-level="2.4.4" data-path="12-statistics.html"><a href="12-statistics.html#et-pour-distinguer-par-groupe-et-pour-avoir-des-moyennes"><i class="fa fa-check"></i><b>2.4.4</b> Et pour distinguer par groupe ? Et pour avoir des moyennes… ?</a></li>
<li class="chapter" data-level="2.4.5" data-path="12-statistics.html"><a href="12-statistics.html#enregistrerstocker-ses-fonctions"><i class="fa fa-check"></i><b>2.4.5</b> Enregistrer/Stocker ses fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html"><i class="fa fa-check"></i><b>3</b> Cartes statistiques avec mapsf (CG)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#packages-utilisés"><i class="fa fa-check"></i><b>3.1.1</b> Packages utilisés</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#préparation-des-données"><i class="fa fa-check"></i><b>3.2</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#chargement-des-fichiers-de-référence"><i class="fa fa-check"></i><b>3.2.1</b> Chargement des fichiers de référence</a></li>
<li class="chapter" data-level="3.2.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#choix-dun-indicateur"><i class="fa fa-check"></i><b>3.2.2</b> Choix d’un indicateur</a></li>
<li class="chapter" data-level="3.2.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-du-tableau-de-contingence"><i class="fa fa-check"></i><b>3.2.3</b> Création du tableau de contingence</a></li>
<li class="chapter" data-level="3.2.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-dun-tableau-de-pourcentages-en-ligne"><i class="fa fa-check"></i><b>3.2.4</b> Création d’un tableau de pourcentages en ligne</a></li>
<li class="chapter" data-level="3.2.5" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#estimation-du-nombre-moyen-dautomobile-par-menages"><i class="fa fa-check"></i><b>3.2.5</b> Estimation du nombre moyen d’automobile par menages</a></li>
<li class="chapter" data-level="3.2.6" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#analyse-statistique-des-vraiables"><i class="fa fa-check"></i><b>3.2.6</b> Analyse statistique des vraiables</a></li>
<li class="chapter" data-level="3.2.7" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#jointure-avec-le-fonds-de-carte"><i class="fa fa-check"></i><b>3.2.7</b> Jointure avec le fonds de carte</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#le-package-mapsf"><i class="fa fa-check"></i><b>3.3</b> Le package mapsf</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-dun-template-cartographique"><i class="fa fa-check"></i><b>3.3.1</b> Création d’un template cartographique</a></li>
<li class="chapter" data-level="3.3.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-de-stock"><i class="fa fa-check"></i><b>3.3.2</b> Carte de stock</a></li>
<li class="chapter" data-level="3.3.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-dintensité-choroplèthe"><i class="fa fa-check"></i><b>3.3.3</b> Carte d’intensité (choroplèthe)</a></li>
<li class="chapter" data-level="3.3.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-de-stock-intensité"><i class="fa fa-check"></i><b>3.3.4</b> Carte de stock + intensité</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-de-fonctions"><i class="fa fa-check"></i><b>3.4</b> Création de fonctions</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-tab_cont_iris"><i class="fa fa-check"></i><b>3.4.1</b> fonction tab_cont_iris()</a></li>
<li class="chapter" data-level="3.4.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-map_count_iris"><i class="fa fa-check"></i><b>3.4.2</b> fonction map_count_iris</a></li>
<li class="chapter" data-level="3.4.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-map_pct_iris"><i class="fa fa-check"></i><b>3.4.3</b> fonction map_pct_iris</a></li>
<li class="chapter" data-level="3.4.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#sauvegarde-des-fonctions"><i class="fa fa-check"></i><b>3.4.4</b> Sauvegarde des fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="22-leaflet.html"><a href="22-leaflet.html"><i class="fa fa-check"></i><b>4</b> Cartes dynamiques (CG)</a>
<ul>
<li class="chapter" data-level="" data-path="22-leaflet.html"><a href="22-leaflet.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="4.1" data-path="22-leaflet.html"><a href="22-leaflet.html#une-carte-élémentaire"><i class="fa fa-check"></i><b>4.1</b> Une carte élémentaire</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="22-leaflet.html"><a href="22-leaflet.html#lancement-avec-leaflet"><i class="fa fa-check"></i><b>4.1.1</b> Lancement avec <code>leaflet()</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="22-leaflet.html"><a href="22-leaflet.html#remplissage-avec-addtiles"><i class="fa fa-check"></i><b>4.1.2</b> Remplissage avec <code>addTiles()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="22-leaflet.html"><a href="22-leaflet.html#calage-avec-setview"><i class="fa fa-check"></i><b>4.1.3</b> Calage avec <code>setView()</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="22-leaflet.html"><a href="22-leaflet.html#personalisation-avec-addprovidertiles"><i class="fa fa-check"></i><b>4.1.4</b> Personalisation avec <code>addProviderTiles()</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="22-leaflet.html"><a href="22-leaflet.html#affichage-dun-point-avec-addmarkers"><i class="fa fa-check"></i><b>4.1.5</b> Affichage d’un point avec <code>addMarkers()</code></a></li>
<li class="chapter" data-level="4.1.6" data-path="22-leaflet.html"><a href="22-leaflet.html#ajout-dun-labelou-dun-popup"><i class="fa fa-check"></i><b>4.1.6</b> Ajout d’un <code>label</code>ou d’un <code>popup</code></a></li>
<li class="chapter" data-level="4.1.7" data-path="22-leaflet.html"><a href="22-leaflet.html#amélioration-du-popup"><i class="fa fa-check"></i><b>4.1.7</b> Amélioration du <code>popup</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="22-leaflet.html"><a href="22-leaflet.html#une-carte-statistique"><i class="fa fa-check"></i><b>4.2</b> Une carte statistique</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="22-leaflet.html"><a href="22-leaflet.html#préparation-des-données-1"><i class="fa fa-check"></i><b>4.2.1</b> Préparation des données</a></li>
<li class="chapter" data-level="4.2.2" data-path="22-leaflet.html"><a href="22-leaflet.html#contours-des-iris-et-communes-avec-addpolygons"><i class="fa fa-check"></i><b>4.2.2</b> Contours des iris et communes avec <code>addPolygons()</code></a></li>
<li class="chapter" data-level="4.2.3" data-path="22-leaflet.html"><a href="22-leaflet.html#cartes-choroplèthes-avec-addpolygon-et-colorbin"><i class="fa fa-check"></i><b>4.2.3</b> Cartes choroplèthes avec <code>addPolygon()</code> et <code>colorBin()</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="22-leaflet.html"><a href="22-leaflet.html#cartes-de-stock-avec-addcirclemarkers"><i class="fa fa-check"></i><b>4.2.4</b> Cartes de stock avec <code>addCircleMarkers()</code></a></li>
<li class="chapter" data-level="4.2.5" data-path="22-leaflet.html"><a href="22-leaflet.html#finition-avec-un-popup-et-highlightoptions"><i class="fa fa-check"></i><b>4.2.5</b> Finition avec un <code>popup</code> et <code>highlightOptions()</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Projet DATA MINING 2021</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c11-data" class="section level1" number="1">
<h1><span class="header-section-number">Chapitre 1</span> Préparation des données (CG)</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="11-data.html#cb1-1"></a><span class="kw">library</span>(knitr)</span>
<span id="cb1-2"><a href="11-data.html#cb1-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb1-3"><a href="11-data.html#cb1-3"></a><span class="kw">library</span>(data.table)</span></code></pre></div>
<pre><code>
Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>The following objects are masked from &#39;package:dplyr&#39;:

    between, first, last</code></pre>
<pre><code>The following object is masked from &#39;package:purrr&#39;:

    transpose</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="11-data.html#cb5-1"></a><span class="kw">library</span>(readr)</span>
<span id="cb5-2"><a href="11-data.html#cb5-2"></a><span class="kw">library</span>(sf)</span></code></pre></div>
<pre><code>Linking to GEOS 3.8.1, GDAL 3.1.4, PROJ 6.3.1</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="11-data.html#cb7-1"></a><span class="kw">library</span>(ggplot2)</span></code></pre></div>
<div id="introduction" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Introduction</h2>
<p>L’objectif du projet Data Mining 2021 consistera à étudier les inégalités sociales et spatiales dans le département du Val de Marne à partir des données du dernier recensement de population de 2017. Ces inégalités seront envisagées à différentes échelles ce qui impliquera des procédures d’agrégation des fichiers détails.</p>
</div>
<div id="données-statistiques-sur-les-individus" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Données statistiques sur les individus</h2>
<p>Nous partirons des fichiers détail de l’INSEE car, à la différence des tableaux prédéfinis, ils permettent virtuellement toutes les formes de croisement d’indicateurs. Ils sont évidemment beaucoup plus volumineux, mais ce sera justement l’occasion pour les étudiants en data mining d’être confrontés à des problèmes d’optimisation et de big data. On trouve leur description détaillée sur le site de l’INSEE dans la page consacrée au recensement :</p>
<p><a href="https://www.insee.fr/fr/statistiques/4508161" class="uri">https://www.insee.fr/fr/statistiques/4508161</a></p>
<p>Nous avons opté pour le fichier des individus localisés au canton-ou-ville qui présente une grande polyvalence d’usage puisqu’il permet de reconstituer des tableau agrégés ou l’unité de compte peut-être soit le ménage, soit l’individu selon le critère de pondération adopté.</p>
<div id="etape-1-téléchargement-des-données-et-stockage-temporaire" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Etape 1 : téléchargement des données et stockage temporaire</h3>
<p>Nous allons télécharger ici le fichier des données pour la région Ile-de-France au format .csv et l’enregistrer dans un dossier spécial <strong>tmp</strong> qui pourra ulétérieurement être détruit ou déplacé afin de libérer de la place</p>
<p>N.B. Ce programme qui prend quelques minutes sera exécuté une seule fois. On ajoutera ensuite dans l’en-tête du chunk <code>eval=FALSE</code> ce qui veut dire que ce bloc de code ne sera plus executé automatiquement lorsqu’on réalise un knit du document Rmd. Il sera néanmoins toujours possible de l’executer manuellement en cliquant sur sa petite flèche verte.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="11-data.html#cb8-1"></a><span class="co">### Téléchargement du fichier INSEE</span></span>
<span id="cb8-2"><a href="11-data.html#cb8-2"></a><span class="kw">download.file</span>(<span class="dt">url=</span><span class="st">&quot;https://www.insee.fr/fr/statistiques/fichier/4802064/RP2017_INDCVIZA_csv.zip&quot;</span>,</span>
<span id="cb8-3"><a href="11-data.html#cb8-3"></a>              <span class="dt">destfile =</span> <span class="st">&quot;tmp/indiv2017.zip&quot;</span>)</span>
<span id="cb8-4"><a href="11-data.html#cb8-4"></a></span>
<span id="cb8-5"><a href="11-data.html#cb8-5"></a><span class="co">## Decompression du fichier INSEE</span></span>
<span id="cb8-6"><a href="11-data.html#cb8-6"></a><span class="kw">unzip</span>(<span class="dt">zipfile =</span> <span class="st">&quot;tmp/indiv2017.zip&quot;</span>,</span>
<span id="cb8-7"><a href="11-data.html#cb8-7"></a>      <span class="dt">exdir =</span> <span class="st">&quot;tmp&quot;</span>)</span>
<span id="cb8-8"><a href="11-data.html#cb8-8"></a></span>
<span id="cb8-9"><a href="11-data.html#cb8-9"></a><span class="co">## Examen du contenu</span></span>
<span id="cb8-10"><a href="11-data.html#cb8-10"></a><span class="kw">list.files</span>(<span class="st">&quot;tmp&quot;</span>)</span></code></pre></div>
<p>Nous constatons que le document zippé contenait en fait deux fichiers différents</p>
<ol style="list-style-type: decimal">
<li><p><strong>Le fichier de données individuelles FD_INDCVIZA_2017.csv</strong> : qui pèse au bas mot 1014.3 Mo (1 Giga) et dont nous verrons par la suite qu’il comporte 4.3 millions de lignes et 88 colonnes.</p></li>
<li><p><strong>Le fichier de métadonnées varmod_INDCVI_2017.csv</strong> : qui ne pèse que 1.8 Mo et comprend la description précise du label de chacune des modalités de variables.</p></li>
</ol>
</div>
<div id="etape-2-transformation-des-données-au-format-r" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Etape 2 : Transformation des données au format R</h3>
<p>L’importation d’un tableau aussi gros (4.3 millions de lignes et 88 colonnes) donne l’occasion de faire quelques tests de vitesses sur les différents packages capables de lire des fichiers .csv.</p>
<p>Nous allons pour cela utiliser la fonction <code>Sys.time()</code>qui permet de repérer l’heure au début et à la fin d’une action. Les résultats dépendront évidemment de la vitesse de l’ordinateur. Il s’agit ici d’un MacBook Pro 2.9 Ghz, disposant de 4 coeurs et 16 Go de mémoire.</p>
<div id="chargement-avec-la-fonction-read.csv" class="section level4" number="1.2.2.1">
<h4><span class="header-section-number">1.2.2.1</span> Chargement avec la fonction read.csv</h4>
<ul>
<li>Avec la fonction<code>read.csv</code> ui fait partie du <strong>R-base</strong> , le temps de chargement est de 150 secondes. Le tableau résultant est de classe <em>data.frame</em> puisque nous avons utilisé une fonction native de R-base</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="11-data.html#cb9-1"></a>t1&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb9-2"><a href="11-data.html#cb9-2"></a>tab&lt;-<span class="kw">read.csv</span>(<span class="st">&quot;tmp/FD_INDCVIZA_2017.csv&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;;&quot;</span>, <span class="dt">header =</span>T)</span>
<span id="cb9-3"><a href="11-data.html#cb9-3"></a>t2&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb9-4"><a href="11-data.html#cb9-4"></a><span class="kw">paste</span> (<span class="st">&quot;chargement effectué en&quot;</span>,t2<span class="op">-</span>t1,)</span>
<span id="cb9-5"><a href="11-data.html#cb9-5"></a><span class="kw">dim</span>(tab)</span>
<span id="cb9-6"><a href="11-data.html#cb9-6"></a><span class="kw">class</span>(tab)</span></code></pre></div>
</div>
<div id="chargement-avec-la-fonction-read_csv2" class="section level4" number="1.2.2.2">
<h4><span class="header-section-number">1.2.2.2</span> Chargement avec la fonction read_csv2</h4>
<ul>
<li>avec la fonction <code>read_csv2</code> du package <strong>readr</strong>, le chargement est effectué en 59 secondes sur le même ordinateur. Le tableau résultant garde la classe <em>data.frame</em> mais est aussi un <em>tibble</em> puisque le package readr fait partie de l’écosystème tibble/tidyverse. Le temps de chrgement est donc divisé par deux.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="11-data.html#cb10-1"></a><span class="kw">library</span>(readr)</span>
<span id="cb10-2"><a href="11-data.html#cb10-2"></a>t1&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb10-3"><a href="11-data.html#cb10-3"></a>tab&lt;-<span class="kw">read_csv2</span>(<span class="st">&quot;tmp/FD_INDCVIZA_2017.csv&quot;</span>)</span>
<span id="cb10-4"><a href="11-data.html#cb10-4"></a>t2&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb10-5"><a href="11-data.html#cb10-5"></a><span class="kw">paste</span> (<span class="st">&quot;chargement effectué en&quot;</span>,t2<span class="op">-</span>t1, <span class="st">&quot;secondes&quot;</span>)</span>
<span id="cb10-6"><a href="11-data.html#cb10-6"></a><span class="kw">dim</span>(tab)</span>
<span id="cb10-7"><a href="11-data.html#cb10-7"></a><span class="kw">class</span>(tab)</span></code></pre></div>
</div>
<div id="chargement-avec-la-fonction-fread" class="section level4" number="1.2.2.3">
<h4><span class="header-section-number">1.2.2.3</span> Chargement avec la fonction fread</h4>
<ul>
<li>avec la fonction <code>fread</code> du package <strong>data.table</strong>, le chargement est effectué en 31 secondes sur le même ordinateur.Le tableau résultant conserve la classe <em>data.frame</em> mais possède aussi la classe <em>data.table</em> puisque la fonction fread est issue de ce package. Le temps est divisé encore une fois par deux.</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="11-data.html#cb11-1"></a><span class="kw">library</span>(data.table)</span>
<span id="cb11-2"><a href="11-data.html#cb11-2"></a>t1&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb11-3"><a href="11-data.html#cb11-3"></a>tab&lt;-<span class="kw">fread</span>(<span class="st">&quot;tmp/FD_INDCVIZA_2017.csv&quot;</span>)</span>
<span id="cb11-4"><a href="11-data.html#cb11-4"></a>t2&lt;-<span class="kw">Sys.time</span>()</span>
<span id="cb11-5"><a href="11-data.html#cb11-5"></a><span class="kw">paste</span> (<span class="st">&quot;chargement effectué en&quot;</span>,t2<span class="op">-</span>t1, <span class="st">&quot;secondes&quot;</span>)</span>
<span id="cb11-6"><a href="11-data.html#cb11-6"></a><span class="kw">dim</span>(tab)</span>
<span id="cb11-7"><a href="11-data.html#cb11-7"></a><span class="kw">class</span>(tab)</span></code></pre></div>
<p>On voit donc que le temps de chargement peut différer fortement selon le choix des packages. Il en va ensuite de même pour les traitements d’agrégation des données qui seront plus ou moins rapides selon que l’on utilise les fonctions de R-base applicables à un data.frame, celles du package tidyverse applicables à un tibble ou enfin celles du package data.table applicables à un data.table.</p>
</div>
</div>
<div id="etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata" class="section level3" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</h3>
<p>Nos différentes tableaux peuvent être enregistés au format interne de .R ce qui réduira considérablement leur taille par rapport au fichier texte au format csv qui pèse 1.06 Go. Nous allons également limiter la taille du document en ne conservant que les données qui nous intéressent, en l’occurence celles du département du Val de Marne.</p>
<p>Comme ces données bvont nous servir durant tout le projet, elles seront stockées dans le dossier <strong>data</strong> situé à l’intérieur du projet et non pas dans le dossier <strong>tmp</strong> qui sera détruit si l’on n’en a plus besoin pour libérer de la place.</p>
<ul>
<li><strong>N.B. On ramène l’objet à la classe d’objet unique data.frame pour éviter des conflits possibles entre package. On pourra toujours le retransformer ensuite en data.table ou en tibble.</strong></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="11-data.html#cb12-1"></a><span class="co">## Chargement avec fread (+ rapide)</span></span>
<span id="cb12-2"><a href="11-data.html#cb12-2"></a>tab&lt;-<span class="kw">fread</span>(<span class="st">&quot;tmp/FD_INDCVIZA_2017.csv&quot;</span>)</span>
<span id="cb12-3"><a href="11-data.html#cb12-3"></a></span>
<span id="cb12-4"><a href="11-data.html#cb12-4"></a><span class="co">## Suppression de la classe data.table</span></span>
<span id="cb12-5"><a href="11-data.html#cb12-5"></a>tab&lt;-<span class="kw">as.data.frame</span>(tab)</span>
<span id="cb12-6"><a href="11-data.html#cb12-6"></a></span>
<span id="cb12-7"><a href="11-data.html#cb12-7"></a><span class="co">## Selection des données relatives au Val de Marne</span></span>
<span id="cb12-8"><a href="11-data.html#cb12-8"></a>sel &lt;-<span class="st"> </span>tab <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(DEPT <span class="op">==</span><span class="st"> </span><span class="dv">94</span>)</span>
<span id="cb12-9"><a href="11-data.html#cb12-9"></a></span>
<span id="cb12-10"><a href="11-data.html#cb12-10"></a><span class="co">## Vérification des dimensions du tableau</span></span>
<span id="cb12-11"><a href="11-data.html#cb12-11"></a><span class="kw">dim</span>(sel)</span>
<span id="cb12-12"><a href="11-data.html#cb12-12"></a></span>
<span id="cb12-13"><a href="11-data.html#cb12-13"></a><span class="co">## Sauvegarde au format RDS</span></span>
<span id="cb12-14"><a href="11-data.html#cb12-14"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> sel,</span>
<span id="cb12-15"><a href="11-data.html#cb12-15"></a>        <span class="dt">file =</span> <span class="st">&quot;data/indiv2017.Rdata&quot;</span>)</span></code></pre></div>
<p>On peut effectuer de façon facultative une sauvegarde au format .csv ce qui évitera des problème d’ouverture du fichier .Rdata pour les personnes ayant des versions anciennes de R. Mais du coup cela engendrera un fichier très volumineux (200 Mo).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="11-data.html#cb13-1"></a><span class="co">## Sauvegarde au format CSV (facultatif)</span></span>
<span id="cb13-2"><a href="11-data.html#cb13-2"></a><span class="kw">write.table</span>(<span class="dt">x=</span>sel, </span>
<span id="cb13-3"><a href="11-data.html#cb13-3"></a>            <span class="dt">file =</span> <span class="st">&quot;data/indiv2017.csv&quot;</span>,</span>
<span id="cb13-4"><a href="11-data.html#cb13-4"></a>            <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>,</span>
<span id="cb13-5"><a href="11-data.html#cb13-5"></a>            <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>,</span>
<span id="cb13-6"><a href="11-data.html#cb13-6"></a>            <span class="dt">fileEncoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<div id="etape-4-chargement-et-sauvegarde-des-méta-données" class="section level4" number="1.2.3.1">
<h4><span class="header-section-number">1.2.3.1</span> Etape 4 : Chargement et sauvegarde des méta-données</h4>
<p>Il ne faut surtout pas oublier le fichier des métadonnées qui va permettre de recoder facilement tous les facteurs et de décoder les chiffres correspondant aux classes. On va donc le transformer au format R puis l’enregistrer également dans le dossier data.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="11-data.html#cb14-1"></a><span class="co"># Lecture du fichier de métadonnées</span></span>
<span id="cb14-2"><a href="11-data.html#cb14-2"></a>meta&lt;-<span class="kw">fread</span>(<span class="st">&quot;tmp/varmod_INDCVI_2017.csv&quot;</span>)</span>
<span id="cb14-3"><a href="11-data.html#cb14-3"></a></span>
<span id="cb14-4"><a href="11-data.html#cb14-4"></a><span class="co"># Enregistrement dans le dossier data</span></span>
<span id="cb14-5"><a href="11-data.html#cb14-5"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> meta,</span>
<span id="cb14-6"><a href="11-data.html#cb14-6"></a>        <span class="dt">file =</span> <span class="st">&quot;data/indiv2017_meta.Rdata&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="données-statistiques-sur-les-logements-ordinaires" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Données statistiques sur les logements ordinaires</h2>
<p>Nous allons reproduire sans les commenter de façon aussi détaillée les mêmes étapes que précédemment pour construire un fichier des <strong>logements ordinaires</strong> dont la description se trouve à l’adresse suivante :</p>
<p><a href="https://www.insee.fr/fr/statistiques/4802056?sommaire=4508161" class="uri">https://www.insee.fr/fr/statistiques/4802056?sommaire=4508161</a></p>
<div id="etape-1-récupération-des-fichiers" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Etape 1 : récupération des fichiers</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="11-data.html#cb15-1"></a><span class="co">### Téléchargement du fichier INSEE</span></span>
<span id="cb15-2"><a href="11-data.html#cb15-2"></a><span class="kw">download.file</span>(<span class="dt">url=</span><span class="st">&quot;https://www.insee.fr/fr/statistiques/fichier/4802056/RP2017_LOGEMTZA_csv.zip&quot;</span>,</span>
<span id="cb15-3"><a href="11-data.html#cb15-3"></a>              <span class="dt">destfile =</span> <span class="st">&quot;tmp/logmt2017.zip&quot;</span>)</span>
<span id="cb15-4"><a href="11-data.html#cb15-4"></a></span>
<span id="cb15-5"><a href="11-data.html#cb15-5"></a><span class="co">## Decompression du fichier INSEE</span></span>
<span id="cb15-6"><a href="11-data.html#cb15-6"></a><span class="kw">unzip</span>(<span class="dt">zipfile =</span> <span class="st">&quot;tmp/logmt2017.zip&quot;</span>,</span>
<span id="cb15-7"><a href="11-data.html#cb15-7"></a>      <span class="dt">exdir =</span> <span class="st">&quot;tmp&quot;</span>)</span>
<span id="cb15-8"><a href="11-data.html#cb15-8"></a></span>
<span id="cb15-9"><a href="11-data.html#cb15-9"></a><span class="co">## Examen du contenu</span></span>
<span id="cb15-10"><a href="11-data.html#cb15-10"></a><span class="kw">list.files</span>(<span class="st">&quot;tmp&quot;</span>)</span></code></pre></div>
<p>Comme dans le cas du fichier des individus, on trouve un fichier des données et un fichier des métadonnées qu’il faut tous les deux récupérer.</p>
</div>
<div id="etape-2-transformation-des-données-au-format-r-1" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Etape 2 : Transformation des données au format R</h3>
<p>On utilise la fonction <code>fread</code> du package data.table qui est la plus rapide</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="11-data.html#cb16-1"></a><span class="co">## Chargement avec fread (+ rapide)</span></span>
<span id="cb16-2"><a href="11-data.html#cb16-2"></a>tab&lt;-<span class="kw">fread</span>(<span class="st">&quot;tmp/FD_LOGEMTZA_2017.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata-1" class="section level3" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</h3>
<p>On remet le tableau au format standard <em>data.frame</em> , on sélectionne la zone d’étude et on sauvegarde au format .Rdata.</p>
<p>N.B Comme la variable DEPT n’existe pas on utilise les deux premiers chiffres du code de la variable COMMUNE pour la créer</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="11-data.html#cb17-1"></a><span class="co">## Suppression de la classe data.table</span></span>
<span id="cb17-2"><a href="11-data.html#cb17-2"></a>tab&lt;-<span class="kw">as.data.frame</span>(tab)</span>
<span id="cb17-3"><a href="11-data.html#cb17-3"></a></span>
<span id="cb17-4"><a href="11-data.html#cb17-4"></a><span class="co">## Selection des données relatives au Val de Marne</span></span>
<span id="cb17-5"><a href="11-data.html#cb17-5"></a>sel &lt;-<span class="st"> </span>tab <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">DEPT =</span> <span class="kw">substr</span>(COMMUNE,<span class="dv">1</span>,<span class="dv">2</span>)) <span class="op">%&gt;%</span></span>
<span id="cb17-6"><a href="11-data.html#cb17-6"></a><span class="st">             </span><span class="kw">filter</span>(DEPT <span class="op">==</span><span class="st"> &quot;94&quot;</span>)</span>
<span id="cb17-7"><a href="11-data.html#cb17-7"></a></span>
<span id="cb17-8"><a href="11-data.html#cb17-8"></a><span class="co">## Vérification des dimensions du tableau</span></span>
<span id="cb17-9"><a href="11-data.html#cb17-9"></a><span class="kw">dim</span>(sel)</span>
<span id="cb17-10"><a href="11-data.html#cb17-10"></a></span>
<span id="cb17-11"><a href="11-data.html#cb17-11"></a><span class="co">## Sauvegarde au format RDS</span></span>
<span id="cb17-12"><a href="11-data.html#cb17-12"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> sel,</span>
<span id="cb17-13"><a href="11-data.html#cb17-13"></a>        <span class="dt">file =</span> <span class="st">&quot;data/logmt2017.Rdata&quot;</span>)</span></code></pre></div>
<div id="etape-4-chargement-et-sauvegarde-des-méta-données-1" class="section level4" number="1.3.3.1">
<h4><span class="header-section-number">1.3.3.1</span> Etape 4 : Chargement et sauvegarde des méta-données</h4>
<p>Comme dans le cas des logements, on sauvegarde précieusement le fichier des métadonnées.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="11-data.html#cb18-1"></a><span class="co"># Lecture du fichier de métadonnées</span></span>
<span id="cb18-2"><a href="11-data.html#cb18-2"></a>meta&lt;-<span class="kw">fread</span>(<span class="st">&quot;tmp/varmod_LOGEMT_2017.csv&quot;</span>)</span>
<span id="cb18-3"><a href="11-data.html#cb18-3"></a></span>
<span id="cb18-4"><a href="11-data.html#cb18-4"></a><span class="co"># Enregistrement dans le dossier data</span></span>
<span id="cb18-5"><a href="11-data.html#cb18-5"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> meta,</span>
<span id="cb18-6"><a href="11-data.html#cb18-6"></a>        <span class="dt">file =</span> <span class="st">&quot;data/logmt2017_meta.Rdata&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="données-géométriques" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Données géométriques</h2>
<p>Les contours des unités spatiales correspondant aux codes de l’INSEE sont produits par l’IGN et disponibles sur le site géoservice en accès libre :</p>
<p><a href="https://geoservices.ign.fr/documentation/diffusion/telechargement-donnees-libres.html" class="uri">https://geoservices.ign.fr/documentation/diffusion/telechargement-donnees-libres.html</a></p>
<div id="etape-1-récupération-du-fonds-iris-au-format-shapefile" class="section level3" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> Etape 1 : récupération du fonds IRIS au format shapefile</h3>
<p>La principale difficulté est de s’orienter dans l’ensemble des produits disponibles. Dans l’exemple présent, nous cherchhons le contour des IRIS, c’est-à-dire des entités infra-communales correspondant au découpage utilisé lors du recensement de 2017. Comme précédemment, nous allons stocker le résultat du téléchargement dans notre fichier <strong>tmp</strong> qui sera détruit ou déplacé lorsque nous aurons récupéré toutes les données utiles.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="11-data.html#cb19-1"></a><span class="kw">download.file</span>(<span class="dt">url=</span><span class="st">&quot;https://wxs.ign.fr/1yhlj2ehpqf3q6dt6a2y7b64/telechargement/inspire/CONTOURS-IRIS-2017-06-30%24CONTOURS-IRIS_2-1__SHP__FRA_2017-06-30/file/CONTOURS-IRIS_2-1__SHP__FRA_2017-06-30.7z&quot;</span>,</span>
<span id="cb19-2"><a href="11-data.html#cb19-2"></a>              <span class="dt">destfile =</span> <span class="st">&quot;tmp/geom.7z&quot;</span>)</span></code></pre></div>
<p>Il n’est apparemment pas possible de décompresser le fichier avec la fonction unzip de R, donc on effectue cette opération manuellement. Il en résulte une arborescence très complexe de dossiers et de sous-dossiers correspondant aux IRIS de la Francé métropolitaine mais aussi de chacun des DOM. Il faut alors aller repérer dans cet arborescence le dossier où se trouve le fonds IRIS de la France métropolitaine qui est au <em>format shapefile</em> et comporte plusieurs fichiers avec des extensions différentes.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="11-data.html#cb20-1"></a><span class="kw">list.files</span>(<span class="st">&quot;tmp/CONTOURS-IRIS_2-1__SHP__FRA_2017-06-30/CONTOURS-IRIS/1_DONNEES_LIVRAISON_2016/CONTOURS-IRIS_2-1_SHP_LAMB93_FE-2016&quot;</span>)</span></code></pre></div>
<pre><code>[1] &quot;CONTOURS-IRIS.cpg&quot; &quot;CONTOURS-IRIS.dbf&quot; &quot;CONTOURS-IRIS.prj&quot;
[4] &quot;CONTOURS-IRIS.shp&quot; &quot;CONTOURS-IRIS.shx&quot; &quot;LISTE.csv&quot;        </code></pre>
</div>
<div id="etape-2-importation-et-transformation-au-format-sf" class="section level3" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> Etape 2 : Importation et transformation au format sf</h3>
<p>La cartographie et plus généralement les opérations géométriques sur des données spatiales dans R peuvent facilement être effectuées avec le <strong>package sf</strong> (spatial features) qui crée des objets ubniques rassemblant à la fois</p>
<ul>
<li>un tableau de données (l’équivalent du fichier .dbf)</li>
<li>une géométrie (l’équivalent du fichier .shp)</li>
<li>une projection (l’équivalent du fichier .prj)</li>
</ul>
<p>Lorsqu’on récupère des fonds de carte au format shapefile (.shp) ou dans d’autres formats standards comme GeoJson, la première tâche consiste donc à les convertir au formt sf afin de pouvoir les utiliser facilement dans R. L’importation se fait à l’aide de l’instruction <code>st_read</code> en indiquant juste le nom du fichier .shp à charger. Les autres fichiers (.dbf ou .proj) seront lus également et intégrés dans l’objet qui hérite de la double classe <em>data.frame</em> et <em>sf</em></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="11-data.html#cb22-1"></a><span class="kw">library</span>(sf)</span>
<span id="cb22-2"><a href="11-data.html#cb22-2"></a>map &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;tmp/CONTOURS-IRIS_2-1__SHP__FRA_2017-06-30/CONTOURS-IRIS/1_DONNEES_LIVRAISON_2016/CONTOURS-IRIS_2-1_SHP_LAMB93_FE-2016/CONTOURS-IRIS.shp&quot;</span>)</span></code></pre></div>
<pre><code>Reading layer `CONTOURS-IRIS&#39; from data source `/Users/claudegrasland1/Documents/cg/cours/2020_M2_MECI_Datamining/DataMiningProject2021/tmp/CONTOURS-IRIS_2-1__SHP__FRA_2017-06-30/CONTOURS-IRIS/1_DONNEES_LIVRAISON_2016/CONTOURS-IRIS_2-1_SHP_LAMB93_FE-2016/CONTOURS-IRIS.shp&#39; using driver `ESRI Shapefile&#39;
Simple feature collection with 49404 features and 6 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 99040 ymin: 6049662 xmax: 1242445 ymax: 7110479
Projected CRS: RGF93_Lambert_93</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="11-data.html#cb24-1"></a><span class="kw">dim</span>(map)</span></code></pre></div>
<pre><code>[1] 49404     7</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="11-data.html#cb26-1"></a><span class="kw">class</span>(map)</span></code></pre></div>
<pre><code>[1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="11-data.html#cb28-1"></a><span class="kw">head</span>(map,<span class="dv">2</span>)</span></code></pre></div>
<pre><code># A tibble: 2 x 7
  INSEE_COM NOM_COM IRIS  CODE_IRIS NOM_IRIS TYP_IRIS                   geometry
  &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;            &lt;MULTIPOLYGON [m]&gt;
1 72191     Mayet   0000  721910000 Mayet    Z        (((498083.5 6747517, 4981…
2 77248     Lesches 0000  772480000 Lesches  Z        (((685753.1 6868613, 6857…</code></pre>
</div>
<div id="etape-3-extraction-des-iris-de-la-zone-détude" class="section level3" number="1.4.3">
<h3><span class="header-section-number">1.4.3</span> Etape 3 : Extraction des IRIS de la zone d’étude</h3>
<p>Le fichier comporte près de 50 000 unités spatiales qui correspondent soit à des communes suffisamment grandes pour être découpées en IRIS, soit à des communes non découpées. On reconnaît ces dernières au fait que leur code IRIS se termine par ‘00000’.</p>
<p>Supposons qu’on veuille extraire le fonds de carte du Val de Marne. On va commencer par créer une variable DEPT en extrayant les dxeux premiers caractères du code communal, puis on va sélectionner le départements correspondant :</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="11-data.html#cb30-1"></a>map_iris&lt;-map <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">DEPT =</span> <span class="kw">substr</span>(INSEE_COM,<span class="dv">1</span>,<span class="dv">2</span>)) <span class="op">%&gt;%</span></span>
<span id="cb30-2"><a href="11-data.html#cb30-2"></a><span class="st">             </span><span class="kw">filter</span>(DEPT <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;94&quot;</span>))</span>
<span id="cb30-3"><a href="11-data.html#cb30-3"></a><span class="kw">dim</span>(map_iris)</span></code></pre></div>
<pre><code>[1] 527   8</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="11-data.html#cb32-1"></a><span class="kw">class</span>(map_iris)</span></code></pre></div>
<pre><code>[1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="11-data.html#cb34-1"></a><span class="kw">head</span>(map_iris,<span class="dv">2</span>)</span></code></pre></div>
<pre><code># A tibble: 2 x 8
  INSEE_COM NOM_COM IRIS  CODE_IRIS NOM_IRIS TYP_IRIS                  geometry
  &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;           &lt;MULTIPOLYGON [m]&gt;
1 94021     Chevil… 0107  940210107 Sorbiers H        (((652774.3 6853051, 652…
2 94068     Saint-… 0204  940680204 Le Vieu… H        (((662096.5 6856264, 662…
# … with 1 more variable: DEPT &lt;chr&gt;</code></pre>
<p>Le nouveau tableau ne comporte plus que 2749 unités spatiales et 8 colonnes au lieu de 7 puisqu’ l’on a ajouté une colonne DEPT. On peut visualiser le résultat à l’aide de la fonction <code>geom_sf</code>du package <strong>ggplot2</strong> :</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="11-data.html#cb36-1"></a><span class="kw">ggplot</span>(map_iris)<span class="op">+</span><span class="kw">geom_sf</span>(<span class="dt">fill=</span><span class="st">&quot;lightyellow&quot;</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Data-Mining-Project-2021_files/figure-html/unnamed-chunk-17-1.svg" width="672" /></p>
<p>On sauvegarde le résultat dans notre dossier <strong>data</strong> au format interne de R :</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="11-data.html#cb37-1"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> map_iris,</span>
<span id="cb37-2"><a href="11-data.html#cb37-2"></a>        <span class="dt">file =</span> <span class="st">&quot;data/map_iris.Rdata&quot;</span>)</span></code></pre></div>
<p>On peut également effectuer (de façon facultative) une sauvegarde au format shapefile afin de pouvoir réutiliser le fonds de carte à l’aide d’autres applications externes à R.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="11-data.html#cb38-1"></a><span class="kw">st_write</span>(<span class="dt">obj =</span> map_iris,</span>
<span id="cb38-2"><a href="11-data.html#cb38-2"></a>         <span class="dt">dsn=</span> <span class="st">&quot;data/map_iris.shp&quot;</span>, <span class="co"># indique le format de sortie par l&#39;extension .shp</span></span>
<span id="cb38-3"><a href="11-data.html#cb38-3"></a>         <span class="dt">delete_dsn =</span> <span class="ot">TRUE</span>,             <span class="co"># écrase le fichier s&#39;il existe déjà</span></span>
<span id="cb38-4"><a href="11-data.html#cb38-4"></a>         <span class="dt">quiet =</span> <span class="ot">TRUE</span>)                  <span class="co"># évite que R fasse des commentaires</span></span></code></pre></div>
</div>
<div id="etape-4-création-dun-fonds-de-carte-des-communes" class="section level3" number="1.4.4">
<h3><span class="header-section-number">1.4.4</span> Etape 4 : création d’un fonds de carte des communes</h3>
<p>Comme nous serons amenés à travailler à plusieurs échelles, nous produisons tout de suite un fonds de carte des communes en utilisant les fonctions d’agrégation du packages <strong>sf</strong> combinées avec celles de <strong>dplyr</strong>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="11-data.html#cb39-1"></a>map_com &lt;-<span class="st"> </span>map_iris  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(INSEE_COM) <span class="op">%&gt;%</span></span>
<span id="cb39-2"><a href="11-data.html#cb39-2"></a><span class="st">                        </span><span class="kw">summarise</span>(<span class="dt">NOM_COM =</span> <span class="kw">min</span>(NOM_COM)) <span class="op">%&gt;%</span></span>
<span id="cb39-3"><a href="11-data.html#cb39-3"></a><span class="st">                        </span><span class="kw">st_as_sf</span>()</span></code></pre></div>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p>on vérifie que l’agrégation s’est bien passée :</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="11-data.html#cb41-1"></a><span class="kw">ggplot</span>(map_com)<span class="op">+</span><span class="kw">geom_sf</span>(<span class="dt">fill=</span><span class="st">&quot;lightyellow&quot;</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Data-Mining-Project-2021_files/figure-html/unnamed-chunk-21-1.svg" width="672" />
Et on sauvegarde le fonds de carte</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="11-data.html#cb42-1"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> map_com,</span>
<span id="cb42-2"><a href="11-data.html#cb42-2"></a>        <span class="dt">file =</span> <span class="st">&quot;data/map_com.Rdata&quot;</span>)</span></code></pre></div>
</div>
<div id="etape-5-création-dun-fonds-de-carte-par-département" class="section level3" number="1.4.5">
<h3><span class="header-section-number">1.4.5</span> Etape 5 : création d’un fonds de carte par département</h3>
<p>Enfin, on construit un fonds de carte des départements selon la même procédure :</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="11-data.html#cb43-1"></a>map_dep &lt;-<span class="st"> </span>map_iris  <span class="op">%&gt;%</span><span class="st">     </span><span class="kw">mutate</span>(<span class="dt">DEPT =</span> <span class="kw">substr</span>(INSEE_COM,<span class="dv">1</span>,<span class="dv">2</span>))<span class="op">%&gt;%</span></span>
<span id="cb43-2"><a href="11-data.html#cb43-2"></a><span class="st">                        </span><span class="kw">group_by</span>(DEPT) <span class="op">%&gt;%</span></span>
<span id="cb43-3"><a href="11-data.html#cb43-3"></a><span class="st">                        </span><span class="kw">summarise</span>() <span class="op">%&gt;%</span></span>
<span id="cb43-4"><a href="11-data.html#cb43-4"></a><span class="st">                        </span><span class="kw">st_as_sf</span>()</span></code></pre></div>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="11-data.html#cb45-1"></a><span class="kw">ggplot</span>(map_dep)<span class="op">+</span><span class="kw">geom_sf</span>(<span class="dt">fill=</span><span class="st">&quot;lightyellow&quot;</span>,<span class="dt">col=</span><span class="st">&quot;red&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="Data-Mining-Project-2021_files/figure-html/unnamed-chunk-23-1.svg" width="672" /></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="11-data.html#cb46-1"></a><span class="kw">saveRDS</span>(<span class="dt">object =</span> map_dep,</span>
<span id="cb46-2"><a href="11-data.html#cb46-2"></a>        <span class="dt">file =</span> <span class="st">&quot;data/map_dep.Rdata&quot;</span>)</span></code></pre></div>
</div>
<div id="etape-6-superposition-des-trois-fonds-de-carte" class="section level3" number="1.4.6">
<h3><span class="header-section-number">1.4.6</span> Etape 6: Superposition des trois fonds de carte</h3>
<p>On va utiliser la fonction <code>plot</code> du package <strong>sf</strong> qui permet de visualiser la variable <em>geometry</em> et facilite les superpositions avec l’instruction <code>add=TRUE</code>.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="11-data.html#cb47-1"></a><span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb47-2"><a href="11-data.html#cb47-2"></a><span class="kw">plot</span>(map_iris<span class="op">$</span>geometry, <span class="dt">col=</span> <span class="st">&quot;lightyellow&quot;</span>, <span class="dt">border =</span> <span class="st">&quot;gray80&quot;</span>, <span class="dt">lwd=</span><span class="fl">0.5</span>)</span>
<span id="cb47-3"><a href="11-data.html#cb47-3"></a><span class="kw">plot</span>(map_com<span class="op">$</span>geometry, <span class="dt">col=</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">&quot;gray50&quot;</span>, <span class="dt">lwd=</span><span class="dv">1</span>, <span class="dt">add=</span><span class="ot">TRUE</span>)</span>
<span id="cb47-4"><a href="11-data.html#cb47-4"></a><span class="kw">plot</span>(map_dep<span class="op">$</span>geometry, <span class="dt">col=</span> <span class="ot">NA</span>, <span class="dt">border =</span> <span class="st">&quot;gray30&quot;</span>, <span class="dt">lwd=</span><span class="dv">2</span>, <span class="dt">add=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="Data-Mining-Project-2021_files/figure-html/unnamed-chunk-24-1.svg" width="672" /></p>
</div>
</div>
<div id="bilan-et-nettoyage" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Bilan et nettoyage</h2>
<p>Nous avons désormais un dossier <strong>data</strong> qui comporte :</p>
<ol style="list-style-type: decimal">
<li>Le fichier des individus et ses métadonnées</li>
<li>Le fichier des logements ordinaires et ses métadonnées</li>
<li>Les fonds de carte par iris, commune et département.</li>
</ol>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="11-data.html#cb48-1"></a><span class="kw">list.files</span>(<span class="st">&quot;data&quot;</span>)</span></code></pre></div>
<pre><code> [1] &quot;bpe2019_94_map.Rdata&quot;   &quot;bpe2019_94.csv&quot;         &quot;bpe2019_meta.csv&quot;      
 [4] &quot;indiv_2017_meta.Rdata&quot;  &quot;indiv2017_meta.Rdata&quot;   &quot;indiv2017.Rdata&quot;       
 [7] &quot;logmt2017_meta.Rdata&quot;   &quot;logmt2017.Rdata&quot;        &quot;map_com.Rdata&quot;         
[10] &quot;map_dep.Rdata&quot;          &quot;map_iris.Rdata&quot;         &quot;map_VOIT_IRIS.Rdata&quot;   
[13] &quot;mapdon_94068.Rdata&quot;     &quot;mapdon_94071.Rdata&quot;     &quot;sel_map_act_csp.Rdata&quot; 
[16] &quot;sel_map_men_auto.Rdata&quot; &quot;sel_map_men_csp.Rdata&quot;  &quot;sel_map_pop_csp.Rdata&quot; 
[19] &quot;sel_map_pop_hlm.Rdata&quot;  &quot;VOIT_IRIS.Rdata&quot;       </code></pre>
<p>On peut alors décider de détruire le dossier <strong>tmp</strong> qui contient des dossiers très volumineux et pas forcément indispensables.</p>

</div>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="00-presentation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="12-statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ClaudeGrasland/DataMiningProject2021/blob/master/11-data.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

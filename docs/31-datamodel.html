<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 5 Modèle de données (CG) | Projet DATA MINING 2021</title>
  <meta name="description" content="Titre du cours" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 5 Modèle de données (CG) | Projet DATA MINING 2021" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Titre du cours" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 5 Modèle de données (CG) | Projet DATA MINING 2021" />
  
  <meta name="twitter:description" content="Titre du cours" />
  

<meta name="author" content="C. Grasland et C. Signoretto" />


<meta name="date" content="2021-05-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="22-leaflet.html"/>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Data Mining 2021  <em>C. Grasland  & C.Signoretto</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html"><i class="fa fa-check"></i>Présentation</a>
<ul>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#à-propos-de-ce-document"><i class="fa fa-check"></i>À propos de ce document</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#prérequis"><i class="fa fa-check"></i>Prérequis</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="00-presentation.html"><a href="00-presentation.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="11-data.html"><a href="11-data.html"><i class="fa fa-check"></i><b>1</b> Préparation des données (CG)</a>
<ul>
<li class="chapter" data-level="1.1" data-path="11-data.html"><a href="11-data.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="11-data.html"><a href="11-data.html#données-statistiques-sur-les-individus"><i class="fa fa-check"></i><b>1.2</b> Données statistiques sur les individus</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="11-data.html"><a href="11-data.html#etape-1-téléchargement-des-données-et-stockage-temporaire"><i class="fa fa-check"></i><b>1.2.1</b> Etape 1 : téléchargement des données et stockage temporaire</a></li>
<li class="chapter" data-level="1.2.2" data-path="11-data.html"><a href="11-data.html#etape-2-transformation-des-données-au-format-r"><i class="fa fa-check"></i><b>1.2.2</b> Etape 2 : Transformation des données au format R</a></li>
<li class="chapter" data-level="1.2.3" data-path="11-data.html"><a href="11-data.html#etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata"><i class="fa fa-check"></i><b>1.2.3</b> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="11-data.html"><a href="11-data.html#données-statistiques-sur-les-logements-ordinaires"><i class="fa fa-check"></i><b>1.3</b> Données statistiques sur les logements ordinaires</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="11-data.html"><a href="11-data.html#etape-1-récupération-des-fichiers"><i class="fa fa-check"></i><b>1.3.1</b> Etape 1 : récupération des fichiers</a></li>
<li class="chapter" data-level="1.3.2" data-path="11-data.html"><a href="11-data.html#etape-2-transformation-des-données-au-format-r-1"><i class="fa fa-check"></i><b>1.3.2</b> Etape 2 : Transformation des données au format R</a></li>
<li class="chapter" data-level="1.3.3" data-path="11-data.html"><a href="11-data.html#etape-3-sélection-des-données-utiles-et-sauvegarde-au-format-.rdata-1"><i class="fa fa-check"></i><b>1.3.3</b> Etape 3 : Sélection des données utiles et sauvegarde au format .Rdata</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="11-data.html"><a href="11-data.html#données-géométriques"><i class="fa fa-check"></i><b>1.4</b> Données géométriques</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="11-data.html"><a href="11-data.html#etape-1-récupération-du-fonds-iris-au-format-shapefile"><i class="fa fa-check"></i><b>1.4.1</b> Etape 1 : récupération du fonds IRIS au format shapefile</a></li>
<li class="chapter" data-level="1.4.2" data-path="11-data.html"><a href="11-data.html#etape-2-importation-et-transformation-au-format-sf"><i class="fa fa-check"></i><b>1.4.2</b> Etape 2 : Importation et transformation au format sf</a></li>
<li class="chapter" data-level="1.4.3" data-path="11-data.html"><a href="11-data.html#etape-3-extraction-des-iris-de-la-zone-détude"><i class="fa fa-check"></i><b>1.4.3</b> Etape 3 : Extraction des IRIS de la zone d’étude</a></li>
<li class="chapter" data-level="1.4.4" data-path="11-data.html"><a href="11-data.html#etape-4-création-dun-fonds-de-carte-des-communes"><i class="fa fa-check"></i><b>1.4.4</b> Etape 4 : création d’un fonds de carte des communes</a></li>
<li class="chapter" data-level="1.4.5" data-path="11-data.html"><a href="11-data.html#etape-5-création-dun-fonds-de-carte-par-département"><i class="fa fa-check"></i><b>1.4.5</b> Etape 5 : création d’un fonds de carte par département</a></li>
<li class="chapter" data-level="1.4.6" data-path="11-data.html"><a href="11-data.html#etape-6-superposition-des-trois-fonds-de-carte"><i class="fa fa-check"></i><b>1.4.6</b> Etape 6: Superposition des trois fonds de carte</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="11-data.html"><a href="11-data.html#bilan-et-nettoyage"><i class="fa fa-check"></i><b>1.5</b> Bilan et nettoyage</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="12-statistics.html"><a href="12-statistics.html"><i class="fa fa-check"></i><b>2</b> Analyse statistique (CS)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="12-statistics.html"><a href="12-statistics.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="12-statistics.html"><a href="12-statistics.html#les-données-du-recensement-de-la-population-rp"><i class="fa fa-check"></i><b>2.1.1</b> Les données du Recensement de la Population (RP)</a></li>
<li class="chapter" data-level="2.1.2" data-path="12-statistics.html"><a href="12-statistics.html#quelles-variables-sont-présentes-dans-les-données-quelle-spécificité"><i class="fa fa-check"></i><b>2.1.2</b> Quelles variables sont présentes dans les données ? Quelle spécificité ?</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="12-statistics.html"><a href="12-statistics.html#quelques-statistiques-sur-les-logements-et-ménages"><i class="fa fa-check"></i><b>2.2</b> Quelques statistiques sur les logements et ménages</a></li>
<li class="chapter" data-level="2.3" data-path="12-statistics.html"><a href="12-statistics.html#quelles-caractéristiques-des-individus-résidant-dans-le-val-de-marne-en-2017"><i class="fa fa-check"></i><b>2.3</b> Quelles caractéristiques des individus résidant dans le Val de Marne en 2017 ?</a></li>
<li class="chapter" data-level="2.4" data-path="12-statistics.html"><a href="12-statistics.html#la-création-de-fonctions"><i class="fa fa-check"></i><b>2.4</b> La création de fonctions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-fonction-pour-retourner-un-tableau"><i class="fa fa-check"></i><b>2.4.1</b> Création d’une fonction pour retourner un tableau</a></li>
<li class="chapter" data-level="2.4.2" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-fonction-pour-retourner-un-graphique"><i class="fa fa-check"></i><b>2.4.2</b> Création d’une fonction pour retourner un graphique</a></li>
<li class="chapter" data-level="2.4.3" data-path="12-statistics.html"><a href="12-statistics.html#création-dune-seule-fonction-comprenant-tableau-et-graphe"><i class="fa fa-check"></i><b>2.4.3</b> Création d’une seule fonction comprenant tableau et graphe</a></li>
<li class="chapter" data-level="2.4.4" data-path="12-statistics.html"><a href="12-statistics.html#et-pour-distinguer-par-groupe-et-pour-avoir-des-moyennes"><i class="fa fa-check"></i><b>2.4.4</b> Et pour distinguer par groupe ? Et pour avoir des moyennes… ?</a></li>
<li class="chapter" data-level="2.4.5" data-path="12-statistics.html"><a href="12-statistics.html#enregistrerstocker-ses-fonctions"><i class="fa fa-check"></i><b>2.4.5</b> Enregistrer/Stocker ses fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html"><i class="fa fa-check"></i><b>3</b> Cartes statistiques avec mapsf (CG)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#packages-utilisés"><i class="fa fa-check"></i><b>3.1.1</b> Packages utilisés</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#préparation-des-données"><i class="fa fa-check"></i><b>3.2</b> Préparation des données</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#chargement-des-fichiers-de-référence"><i class="fa fa-check"></i><b>3.2.1</b> Chargement des fichiers de référence</a></li>
<li class="chapter" data-level="3.2.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#choix-dun-indicateur"><i class="fa fa-check"></i><b>3.2.2</b> Choix d’un indicateur</a></li>
<li class="chapter" data-level="3.2.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-du-tableau-de-contingence"><i class="fa fa-check"></i><b>3.2.3</b> Création du tableau de contingence</a></li>
<li class="chapter" data-level="3.2.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-dun-tableau-de-pourcentages-en-ligne"><i class="fa fa-check"></i><b>3.2.4</b> Création d’un tableau de pourcentages en ligne</a></li>
<li class="chapter" data-level="3.2.5" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#estimation-du-nombre-moyen-dautomobile-par-menages"><i class="fa fa-check"></i><b>3.2.5</b> Estimation du nombre moyen d’automobile par menages</a></li>
<li class="chapter" data-level="3.2.6" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#analyse-statistique-des-vraiables"><i class="fa fa-check"></i><b>3.2.6</b> Analyse statistique des vraiables</a></li>
<li class="chapter" data-level="3.2.7" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#jointure-avec-le-fonds-de-carte"><i class="fa fa-check"></i><b>3.2.7</b> Jointure avec le fonds de carte</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#le-package-mapsf"><i class="fa fa-check"></i><b>3.3</b> Le package mapsf</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-dun-template-cartographique"><i class="fa fa-check"></i><b>3.3.1</b> Création d’un template cartographique</a></li>
<li class="chapter" data-level="3.3.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-de-stock"><i class="fa fa-check"></i><b>3.3.2</b> Carte de stock</a></li>
<li class="chapter" data-level="3.3.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-dintensité-choroplèthe"><i class="fa fa-check"></i><b>3.3.3</b> Carte d’intensité (choroplèthe)</a></li>
<li class="chapter" data-level="3.3.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#carte-de-stock-intensité"><i class="fa fa-check"></i><b>3.3.4</b> Carte de stock + intensité</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#création-de-fonctions"><i class="fa fa-check"></i><b>3.4</b> Création de fonctions</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-tab_cont_iris"><i class="fa fa-check"></i><b>3.4.1</b> fonction tab_cont_iris()</a></li>
<li class="chapter" data-level="3.4.2" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-map_count_iris"><i class="fa fa-check"></i><b>3.4.2</b> fonction map_count_iris</a></li>
<li class="chapter" data-level="3.4.3" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#fonction-map_pct_iris"><i class="fa fa-check"></i><b>3.4.3</b> fonction map_pct_iris</a></li>
<li class="chapter" data-level="3.4.4" data-path="21-cartography_V2.html"><a href="21-cartography_V2.html#sauvegarde-des-fonctions"><i class="fa fa-check"></i><b>3.4.4</b> Sauvegarde des fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="22-leaflet.html"><a href="22-leaflet.html"><i class="fa fa-check"></i><b>4</b> Cartes dynamiques (CG)</a>
<ul>
<li class="chapter" data-level="" data-path="22-leaflet.html"><a href="22-leaflet.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="4.1" data-path="22-leaflet.html"><a href="22-leaflet.html#une-carte-élémentaire"><i class="fa fa-check"></i><b>4.1</b> Une carte élémentaire</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="22-leaflet.html"><a href="22-leaflet.html#lancement-avec-leaflet"><i class="fa fa-check"></i><b>4.1.1</b> Lancement avec <code>leaflet()</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="22-leaflet.html"><a href="22-leaflet.html#remplissage-avec-addtiles"><i class="fa fa-check"></i><b>4.1.2</b> Remplissage avec <code>addTiles()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="22-leaflet.html"><a href="22-leaflet.html#calage-avec-setview"><i class="fa fa-check"></i><b>4.1.3</b> Calage avec <code>setView()</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="22-leaflet.html"><a href="22-leaflet.html#personalisation-avec-addprovidertiles"><i class="fa fa-check"></i><b>4.1.4</b> Personalisation avec <code>addProviderTiles()</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="22-leaflet.html"><a href="22-leaflet.html#affichage-dun-point-avec-addmarkers"><i class="fa fa-check"></i><b>4.1.5</b> Affichage d’un point avec <code>addMarkers()</code></a></li>
<li class="chapter" data-level="4.1.6" data-path="22-leaflet.html"><a href="22-leaflet.html#ajout-dun-labelou-dun-popup"><i class="fa fa-check"></i><b>4.1.6</b> Ajout d’un <code>label</code>ou d’un <code>popup</code></a></li>
<li class="chapter" data-level="4.1.7" data-path="22-leaflet.html"><a href="22-leaflet.html#amélioration-du-popup"><i class="fa fa-check"></i><b>4.1.7</b> Amélioration du <code>popup</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="22-leaflet.html"><a href="22-leaflet.html#une-carte-statistique"><i class="fa fa-check"></i><b>4.2</b> Une carte statistique</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="22-leaflet.html"><a href="22-leaflet.html#préparation-des-données-1"><i class="fa fa-check"></i><b>4.2.1</b> Préparation des données</a></li>
<li class="chapter" data-level="4.2.2" data-path="22-leaflet.html"><a href="22-leaflet.html#contours-des-iris-et-communes-avec-addpolygons"><i class="fa fa-check"></i><b>4.2.2</b> Contours des iris et communes avec <code>addPolygons()</code></a></li>
<li class="chapter" data-level="4.2.3" data-path="22-leaflet.html"><a href="22-leaflet.html#cartes-choroplèthes-avec-addpolygon-et-colorbin"><i class="fa fa-check"></i><b>4.2.3</b> Cartes choroplèthes avec <code>addPolygon()</code> et <code>colorBin()</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="22-leaflet.html"><a href="22-leaflet.html#cartes-de-stock-avec-addcirclemarkers"><i class="fa fa-check"></i><b>4.2.4</b> Cartes de stock avec <code>addCircleMarkers()</code></a></li>
<li class="chapter" data-level="4.2.5" data-path="22-leaflet.html"><a href="22-leaflet.html#finition-avec-un-popup-et-highlightoptions"><i class="fa fa-check"></i><b>4.2.5</b> Finition avec un <code>popup</code> et <code>highlightOptions()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="31-datamodel.html"><a href="31-datamodel.html"><i class="fa fa-check"></i><b>5</b> Modèle de données (CG)</a>
<ul>
<li class="chapter" data-level="" data-path="31-datamodel.html"><a href="31-datamodel.html#objectif"><i class="fa fa-check"></i>Objectif</a></li>
<li class="chapter" data-level="5.1" data-path="31-datamodel.html"><a href="31-datamodel.html#tableau-de-contingence-tab"><i class="fa fa-check"></i><b>5.1</b> tableau de contingence <code>tab</code></a></li>
<li class="chapter" data-level="5.2" data-path="31-datamodel.html"><a href="31-datamodel.html#attributs-sociologiques-soc"><i class="fa fa-check"></i><b>5.2</b> Attributs sociologiques <code>soc</code></a></li>
<li class="chapter" data-level="5.3" data-path="31-datamodel.html"><a href="31-datamodel.html#attributs-géographiques-geo"><i class="fa fa-check"></i><b>5.3</b> Attributs géographiques <code>geo</code></a></li>
<li class="chapter" data-level="5.4" data-path="31-datamodel.html"><a href="31-datamodel.html#assemblage-et-sauvegarde"><i class="fa fa-check"></i><b>5.4</b> Assemblage et sauvegarde</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="31-datamodel.html"><a href="31-datamodel.html#bilan"><i class="fa fa-check"></i><b>5.4.1</b> Bilan</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Projet DATA MINING 2021</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="c31-datamodel" class="section level1" number="5">
<h1><span class="header-section-number">Chapitre 5</span> Modèle de données (CG)</h1>
<p style="border:0.5px; border-style:solid; border-color:navajowhite3; padding: 1em; font-size:15px">
Ce cours propose de construire une structure de donnée permettant l’analyse à la fois sociologique et géographique des données individuelles qui ont fait l’objet des chapitres précédent. Ce modèle de donnée servira par la suite au développement d’applications shiny.
<br>
<strong>Claude Grasland</strong> (Professeur à l’Université de Paris)
</p>
<p><br></p>
<div id="objectif" class="section level2 unnumbered" number="">
<h2>Objectif</h2>
<p>L’objectif de ce chapitre est de construire une structure de données croisant une dimension spatiale <span class="math inline">\(i\)</span> et une dimension sociale <span class="math inline">\(j\)</span> à partir d’un comptage du nombre d’individus ou du nombre de ménages <span class="math inline">\(X_{ij}\)</span> localisés dans l’unité spatiale <span class="math inline">\(i\)</span> et ayant l’attribut sociologique <span class="math inline">\(j\)</span>.</p>
<p>La structure de donnée devra permettre la représentation cartographique des résultats (ajout de la geométrie des unités spatiales <span class="math inline">\(i\)</span>).</p>
<p>Elle devra également permettre d’agréger les unités spatiale et sociales élémentaires vers des niveaux d’agrégation supérieur qu’on notera <span class="math inline">\(i2,i3, ...\)</span> pour les niveaux géographiques et <span class="math inline">\(j2,j3,...\)</span> pour les niveaux sociologiques.</p>
<p>L’ensemble des données utiles devra être stockée dans un objet unique, si possible de petite taille, sous la forme d’une liste.</p>
<p>Nous allons prendre comme exemple l’analyse de la distribution des CSP (variable CS1) par IRIS dans le Val-de-Marne lors du RP de 2017 pour les personnes âgées de 18 ans et plus</p>
</div>
<div id="tableau-de-contingence-tab" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> tableau de contingence <code>tab</code></h2>
<p>Notre tableau de contingence ne contiendra que trois variables</p>
<ul>
<li>i : code géographique de l’IRIS</li>
<li>j : code socioloqiue de la CSP</li>
<li>Pij : effectif de personnes appartenant à la CSP i et résidant dans l’unité spatiale j</li>
</ul>
<p>La création sera effectuée par le programme suivant où l’on retire les personnes résidant dans des communes non découpées en IRIS.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="31-datamodel.html#cb236-1"></a><span class="co"># Sélection des individus de 18 ans et +</span></span>
<span id="cb236-2"><a href="31-datamodel.html#cb236-2"></a>ind18 &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;data/indiv2017.Rdata&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb236-3"><a href="31-datamodel.html#cb236-3"></a><span class="st">         </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(AGEREV)<span class="op">&gt;=</span><span class="dv">18</span>) <span class="op">%&gt;%</span></span>
<span id="cb236-4"><a href="31-datamodel.html#cb236-4"></a><span class="st">         </span><span class="kw">filter</span>(IRIS <span class="op">!=</span><span class="st"> &quot;ZZZZZZZZZ&quot;</span>)</span>
<span id="cb236-5"><a href="31-datamodel.html#cb236-5"></a></span>
<span id="cb236-6"><a href="31-datamodel.html#cb236-6"></a><span class="co"># Création du tableau de contingence</span></span>
<span id="cb236-7"><a href="31-datamodel.html#cb236-7"></a>tab &lt;-<span class="st"> </span>ind18 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dt">i =</span>IRIS,</span>
<span id="cb236-8"><a href="31-datamodel.html#cb236-8"></a>                        <span class="dt">j =</span> CS1,</span>
<span id="cb236-9"><a href="31-datamodel.html#cb236-9"></a>                        <span class="dt">Xij =</span> IPONDI) <span class="op">%&gt;%</span></span>
<span id="cb236-10"><a href="31-datamodel.html#cb236-10"></a><span class="st">                  </span><span class="kw">group_by</span>(i,j) <span class="op">%&gt;%</span></span>
<span id="cb236-11"><a href="31-datamodel.html#cb236-11"></a><span class="st">                  </span><span class="kw">summarise</span>(<span class="dt">Xij =</span> <span class="kw">round</span>(<span class="kw">sum</span>(Xij),<span class="dv">0</span>))</span>
<span id="cb236-12"><a href="31-datamodel.html#cb236-12"></a></span>
<span id="cb236-13"><a href="31-datamodel.html#cb236-13"></a><span class="co"># Visualisation du résultat</span></span>
<span id="cb236-14"><a href="31-datamodel.html#cb236-14"></a><span class="kw">kable</span>(<span class="kw">head</span>(tab))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
i
</th>
<th style="text-align:left;">
j
</th>
<th style="text-align:right;">
Xij
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
97
</td>
</tr>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
421
</td>
</tr>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
480
</td>
</tr>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:right;">
428
</td>
</tr>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:right;">
263
</td>
</tr>
<tr>
<td style="text-align:left;">
940020101
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:right;">
292
</td>
</tr>
</tbody>
</table>
</div>
<div id="attributs-sociologiques-soc" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Attributs sociologiques <code>soc</code></h2>
<p>Nous avons besoin d’ajouter des renseignements sur les modalités sociologiques <span class="math inline">\(j\)</span> que l’on va chercher dans le fichier des métadonnées.</p>
<ul>
<li>j : code de la modalité</li>
<li>var_j : nom de la variable</li>
<li>lab_j : label de la modalité j</li>
</ul>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="31-datamodel.html#cb237-1"></a><span class="co"># Chargement du fichier des méta données </span></span>
<span id="cb237-2"><a href="31-datamodel.html#cb237-2"></a>meta &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;data/indiv_2017_meta.Rdata&quot;</span>)</span>
<span id="cb237-3"><a href="31-datamodel.html#cb237-3"></a></span>
<span id="cb237-4"><a href="31-datamodel.html#cb237-4"></a><span class="co"># Identification des modalités à extraire</span></span>
<span id="cb237-5"><a href="31-datamodel.html#cb237-5"></a>listmod &lt;-<span class="st"> </span><span class="kw">unique</span>(tab<span class="op">$</span>j)</span>
<span id="cb237-6"><a href="31-datamodel.html#cb237-6"></a></span>
<span id="cb237-7"><a href="31-datamodel.html#cb237-7"></a><span class="co"># extraction des informations</span></span>
<span id="cb237-8"><a href="31-datamodel.html#cb237-8"></a>soc&lt;-meta <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(COD_VAR <span class="op">==</span><span class="st"> &quot;CS1&quot;</span> ) <span class="op">%&gt;%</span></span>
<span id="cb237-9"><a href="31-datamodel.html#cb237-9"></a><span class="st">              </span><span class="kw">filter</span>(COD_MOD <span class="op">%in%</span><span class="st"> </span>listmod) <span class="op">%&gt;%</span></span>
<span id="cb237-10"><a href="31-datamodel.html#cb237-10"></a><span class="st">              </span><span class="kw">select</span>(<span class="dt">j =</span> COD_MOD,</span>
<span id="cb237-11"><a href="31-datamodel.html#cb237-11"></a>                     <span class="dt">var_j =</span> LIB_VAR,</span>
<span id="cb237-12"><a href="31-datamodel.html#cb237-12"></a>                     <span class="dt">lab_j =</span> LIB_MOD)</span>
<span id="cb237-13"><a href="31-datamodel.html#cb237-13"></a></span>
<span id="cb237-14"><a href="31-datamodel.html#cb237-14"></a><span class="kw">kable</span>(soc)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
j
</th>
<th style="text-align:left;">
var_j
</th>
<th style="text-align:left;">
lab_j
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Agriculteurs exploitants
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Artisans, commerçants et chefs d’entreprise
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Cadres et professions intellectuelles supérieures
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Professions Intermédiaires
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Employés
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Ouvriers
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Retraités
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Autres personnes sans activité professionnelle
</td>
</tr>
</tbody>
</table>
<p>On peut ajouter à ce tableau un niveau d’agrégation supérieur en ajoutant une liste de variables :</p>
<ul>
<li>j2 : code d’agrégation</li>
<li>var_j2 : nom de la variable agrégée</li>
<li>lab_j2 : label des modalités de la variable agrégée</li>
</ul>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="31-datamodel.html#cb238-1"></a>soc<span class="op">$</span>j2 &lt;-<span class="kw">as.factor</span>(soc<span class="op">$</span>j)</span>
<span id="cb238-2"><a href="31-datamodel.html#cb238-2"></a><span class="kw">levels</span>(soc<span class="op">$</span>j2) &lt;-<span class="kw">c</span>(<span class="st">&quot;B&quot;</span>,<span class="st">&quot;A&quot;</span>,<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="st">&quot;C&quot;</span>,<span class="ot">NA</span>,<span class="ot">NA</span>)</span>
<span id="cb238-3"><a href="31-datamodel.html#cb238-3"></a>soc<span class="op">$</span>var_j2 &lt;-<span class="st"> &quot;CSP des actifs en 3 classes&quot;</span></span>
<span id="cb238-4"><a href="31-datamodel.html#cb238-4"></a>soc<span class="op">$</span>lab_<span class="dv">2</span> &lt;-soc<span class="op">$</span>j2</span>
<span id="cb238-5"><a href="31-datamodel.html#cb238-5"></a><span class="kw">levels</span>(soc<span class="op">$</span>lab_<span class="dv">2</span>) &lt;-<span class="kw">list</span>(<span class="st">&quot;Haut&quot;</span> =<span class="st"> &quot;A&quot;</span>,<span class="st">&quot;Moyen&quot;</span> =<span class="st"> &quot;B&quot;</span>,<span class="st">&quot;Bas&quot;</span> =<span class="st"> &quot;C&quot;</span>)</span>
<span id="cb238-6"><a href="31-datamodel.html#cb238-6"></a><span class="kw">kable</span>(soc)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
j
</th>
<th style="text-align:left;">
var_j
</th>
<th style="text-align:left;">
lab_j
</th>
<th style="text-align:left;">
j2
</th>
<th style="text-align:left;">
var_j2
</th>
<th style="text-align:left;">
lab_2
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Agriculteurs exploitants
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Moyen
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Artisans, commerçants et chefs d’entreprise
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Haut
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Cadres et professions intellectuelles supérieures
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Haut
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Professions Intermédiaires
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Moyen
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Employés
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Bas
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Ouvriers
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
Bas
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Retraités
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
Catégorie socioprofessionnelle en 8 postes
</td>
<td style="text-align:left;">
Autres personnes sans activité professionnelle
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
CSP des actifs en 3 classes
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<div id="attributs-géographiques-geo" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Attributs géographiques <code>geo</code></h2>
<p>Les attributs géographiques comportent le nom des unités spatiales observées, le nom et le code des unités spatiales de nbiveau supérieur (s’il y en a) et enfin la géométrie des unités spatiales. Soit la structure :</p>
<ul>
<li>i : code de l’unité géographique</li>
<li>lab_i : nom de l’unité géographique</li>
<li>i2 : code de l’unité géographique englobante (facultatif)</li>
<li>lab_i2 : nom de l’unité géographique englobante (facultatif)</li>
<li>lat : latitude du centroïde de l’unité géographique</li>
<li>lng : longitude du centroïde de l’unité géographique</li>
<li>geometry : contours de l’unité géographique s’il s’agit d’une surface en latitude longitude (WGS94 soit crs = 4326)</li>
</ul>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="31-datamodel.html#cb239-1"></a><span class="co"># Chargement du fonds de carte et projection en WGS94</span></span>
<span id="cb239-2"><a href="31-datamodel.html#cb239-2"></a>map &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;data/map_iris.Rdata&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_as_sf</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">st_transform</span> (<span class="dt">crs=</span><span class="dv">4326</span>)</span>
<span id="cb239-3"><a href="31-datamodel.html#cb239-3"></a></span>
<span id="cb239-4"><a href="31-datamodel.html#cb239-4"></a></span>
<span id="cb239-5"><a href="31-datamodel.html#cb239-5"></a><span class="co"># Définition de la liste des unités spatiales utiles</span></span>
<span id="cb239-6"><a href="31-datamodel.html#cb239-6"></a>listgeo &lt;-<span class="st"> </span><span class="kw">unique</span>(tab<span class="op">$</span>i)</span>
<span id="cb239-7"><a href="31-datamodel.html#cb239-7"></a></span>
<span id="cb239-8"><a href="31-datamodel.html#cb239-8"></a><span class="co"># Extraction et recodage des informations utiles</span></span>
<span id="cb239-9"><a href="31-datamodel.html#cb239-9"></a>geo &lt;-map <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="dt">i =</span> CODE_IRIS,</span>
<span id="cb239-10"><a href="31-datamodel.html#cb239-10"></a>                     <span class="dt">lab_i =</span> NOM_IRIS,</span>
<span id="cb239-11"><a href="31-datamodel.html#cb239-11"></a>                     <span class="dt">i2 =</span> INSEE_COM,</span>
<span id="cb239-12"><a href="31-datamodel.html#cb239-12"></a>                     <span class="dt">lab_i2 =</span> NOM_COM,</span>
<span id="cb239-13"><a href="31-datamodel.html#cb239-13"></a>                     geometry)</span>
<span id="cb239-14"><a href="31-datamodel.html#cb239-14"></a></span>
<span id="cb239-15"><a href="31-datamodel.html#cb239-15"></a><span class="co"># Ajout des centroïdes</span></span>
<span id="cb239-16"><a href="31-datamodel.html#cb239-16"></a>coo &lt;-<span class="st"> </span><span class="kw">st_coordinates</span>(<span class="kw">st_centroid</span>(geo))</span>
<span id="cb239-17"><a href="31-datamodel.html#cb239-17"></a>geo<span class="op">$</span>lng &lt;-coo[,<span class="dv">1</span>]</span>
<span id="cb239-18"><a href="31-datamodel.html#cb239-18"></a>geo<span class="op">$</span>lat &lt;-coo[,<span class="dv">2</span>]</span>
<span id="cb239-19"><a href="31-datamodel.html#cb239-19"></a></span>
<span id="cb239-20"><a href="31-datamodel.html#cb239-20"></a><span class="kw">kable</span>(<span class="kw">head</span>(geo))</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
i
</th>
<th style="text-align:left;">
lab_i
</th>
<th style="text-align:left;">
i2
</th>
<th style="text-align:left;">
lab_i2
</th>
<th style="text-align:left;">
geometry
</th>
<th style="text-align:right;">
lng
</th>
<th style="text-align:right;">
lat
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
940210107
</td>
<td style="text-align:left;">
Sorbiers
</td>
<td style="text-align:left;">
94021
</td>
<td style="text-align:left;">
Chevilly-Larue
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.357357 48…
</td>
<td style="text-align:right;">
2.357553
</td>
<td style="text-align:right;">
48.77377
</td>
</tr>
<tr>
<td style="text-align:left;">
940680204
</td>
<td style="text-align:left;">
Le Vieux Saint-Maur 4
</td>
<td style="text-align:left;">
94068
</td>
<td style="text-align:left;">
Saint-Maur-des-Fossés
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.483923 48…
</td>
<td style="text-align:right;">
2.481153
</td>
<td style="text-align:right;">
48.80862
</td>
</tr>
<tr>
<td style="text-align:left;">
940810308
</td>
<td style="text-align:left;">
Robespierre
</td>
<td style="text-align:left;">
94081
</td>
<td style="text-align:left;">
Vitry-sur-Seine
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.388071 48…
</td>
<td style="text-align:right;">
2.388817
</td>
<td style="text-align:right;">
48.79110
</td>
</tr>
<tr>
<td style="text-align:left;">
940760109
</td>
<td style="text-align:left;">
Centre Ville Est
</td>
<td style="text-align:left;">
94076
</td>
<td style="text-align:left;">
Villejuif
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.368424 48…
</td>
<td style="text-align:right;">
2.367894
</td>
<td style="text-align:right;">
48.79224
</td>
</tr>
<tr>
<td style="text-align:left;">
940460105
</td>
<td style="text-align:left;">
Centre_Vert de Maison 5
</td>
<td style="text-align:left;">
94046
</td>
<td style="text-align:left;">
Maisons-Alfort
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.433334 48…
</td>
<td style="text-align:right;">
2.433856
</td>
<td style="text-align:right;">
48.79129
</td>
</tr>
<tr>
<td style="text-align:left;">
940650105
</td>
<td style="text-align:left;">
Le Sud
</td>
<td style="text-align:left;">
94065
</td>
<td style="text-align:left;">
Rungis
</td>
<td style="text-align:left;">
MULTIPOLYGON (((2.337343 48…
</td>
<td style="text-align:right;">
2.342378
</td>
<td style="text-align:right;">
48.74465
</td>
</tr>
</tbody>
</table>
</div>
<div id="assemblage-et-sauvegarde" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Assemblage et sauvegarde</h2>
<p>Il peut être intéressant d’ajouter à la liste des objets quelques variables supplémentaires comme la source, l’auteur et un bref résumé du contenu du tableau :</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="31-datamodel.html#cb240-1"></a>source =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Source : INSEE - RP 2017 - Fichier individu &amp; IGN - Geofla - IRIS&quot;</span>)</span>
<span id="cb240-2"><a href="31-datamodel.html#cb240-2"></a>author =<span class="st"> &quot;Claude Grasland - contact : claude.grasland@parisgeo.cnrs.fr&quot;</span></span>
<span id="cb240-3"><a href="31-datamodel.html#cb240-3"></a>info =<span class="st"> &quot;Fichier élaboré dans le cadre du projet Data Mining 2021 portant sur les CSP des individus résidant dans le Val de Marne à l&#39;échelon des IRIS lors du RP 2017&quot;</span></span></code></pre></div>
<p>Pour éviter la prolifération des fichiers, on va assembler toutes nos composantes dans un unique objet servant de base de données à l’aide de la fonction <code>list()</code> :</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="31-datamodel.html#cb241-1"></a>base =<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;tab&quot;</span> =<span class="st"> </span>tab,</span>
<span id="cb241-2"><a href="31-datamodel.html#cb241-2"></a>            <span class="st">&quot;soc&quot;</span> =<span class="st"> </span>soc,</span>
<span id="cb241-3"><a href="31-datamodel.html#cb241-3"></a>            <span class="st">&quot;geo&quot;</span> =<span class="st"> </span>geo,</span>
<span id="cb241-4"><a href="31-datamodel.html#cb241-4"></a>            <span class="st">&quot;source&quot;</span> =<span class="st"> </span>source,</span>
<span id="cb241-5"><a href="31-datamodel.html#cb241-5"></a>            <span class="st">&quot;author&quot;</span> =<span class="st"> </span>author,</span>
<span id="cb241-6"><a href="31-datamodel.html#cb241-6"></a>            <span class="st">&quot;info&quot;</span> =<span class="st"> </span>info)</span>
<span id="cb241-7"><a href="31-datamodel.html#cb241-7"></a></span>
<span id="cb241-8"><a href="31-datamodel.html#cb241-8"></a><span class="kw">saveRDS</span>(base,<span class="st">&quot;data/VDM_RP2017_CS1_IRIS.Rdata&quot;</span>)</span></code></pre></div>
<div id="bilan" class="section level3" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Bilan</h3>
<p>Notre base de donnée tient désormais dans un seul fichier qui ne pèse que 382 Ko et pourra être facilement mobilisé dans toute une série d’applications de visualisation statistique ou cartographique interactives.</p>
<p>On peut évidemment créer autant de bases que l’on veut selon le même format, ce qui permettra de standardiser les procédures d’exploitation ultérieures.</p>

</div>
</div>
</div>






<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="22-leaflet.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ClaudeGrasland/DataMiningProject2021/blob/master/31-datamodel.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
